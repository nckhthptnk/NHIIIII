<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 8: Health and Life Expectancy</title>
    <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100%;
        }

        html {
            height: 100%;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: #2d3436;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .home-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .home-btn:hover {
            background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .nav-menu {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #8b4513;
            padding: 15px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
            transition: all 0.3s ease;
        }

        .nav-btn:hover, .nav-btn.active {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #2d3748;
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(168, 237, 234, 0.4);
        }

        .section {
            display: none;
            background: #ffffff;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            border: 2px solid #f8f9fa;
        }

        .section.active {
            display: block;
        }

        .vocab-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .vocab-card {
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
            border: 2px solid rgba(255,255,255,0.5);
        }

        .vocab-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
            background: linear-gradient(135deg, #ffffff 0%, #f0f2f0 100%);
        }

        .vocab-word {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .vocab-pronunciation {
            color: #a78bfa;
            font-style: italic;
            margin-bottom: 10px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .vocab-meaning {
            color: #4c51bf;
            margin-bottom: 15px;
            line-height: 1.5;
            font-weight: 500;
        }

        .vocab-example {
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            padding: 10px;
            border-radius: 8px;
            font-style: italic;
            color: #718096;
            border-left: 4px solid #a78bfa;
        }

        .speak-btn {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(255, 234, 167, 0.3);
        }

        .speak-btn:hover {
            background: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(253, 203, 110, 0.4);
        }

        .reading-section {
            background: #ffffff;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            color: #2d3436;
            border: 2px solid #b3d9ff;
        }

        .reading-text {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            line-height: 1.8;
            font-size: 1.1rem;
            margin-bottom: 20px;
            color: #2d3436;
            border: 1px solid #e9ecef;
        }

        .highlight-word {
            background: #ffb3d9;
            padding: 2px 6px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            font-weight: 600;
        }

        .highlight-word:hover {
            background: #ffd1dc;
            transform: scale(1.05);
            color: #2d3436;
        }

        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background: #b19cd9;
            color: white;
            text-align: center;
            border-radius: 8px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .reading-questions {
            background: #ffffff;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            border: 2px solid #b3ffcc;
        }

        .reading-questions h4 {
            color: #20b2aa;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .reading-question {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            color: #2d3436;
            border: 1px solid #e9ecef;
        }

        .reading-question strong {
            color: #20b2aa;
        }

        .flashcard-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }

        .flashcard {
            width: 400px;
            height: 280px;
            perspective: 1000px;
            cursor: pointer;
        }

        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        .flashcard.flipped .flashcard-inner {
            transform: rotateY(180deg);
        }

        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .flashcard-front {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #8b4513;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.5);
        }

        .flashcard-back {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #2d3748;
            transform: rotateY(180deg);
            flex-direction: column;
            gap: 15px;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.5);
        }

        .flashcard-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .control-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .control-btn:hover {
            background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(90, 103, 216, 0.4);
        }

        .flashcard-progress {
            text-align: center;
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
            border: 1px solid #dee2e6;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            transition: width 0.3s ease;
            border-radius: 5px;
        }

        .flashcard-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
            background: #ffffff;
            padding: 15px;
            border-radius: 15px;
            border: 2px solid #f8f9fa;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            color: #20b2aa;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #636e72;
        }

        .quiz-container {
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 2px solid rgba(168, 237, 234, 0.5);
        }

        .quiz-question {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: #667eea;
        }

        .quiz-options {
            display: grid;
            gap: 10px;
            margin-bottom: 20px;
        }

        .quiz-option {
            background: #ffffff;
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #e9ecef;
            color: #2d3436;
            font-weight: 600;
        }

        .quiz-option:hover {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #2d3748;
            transform: translateX(5px);
        }

        .quiz-option.selected {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }

        .quiz-option.correct {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #2d3748;
        }

        .quiz-option.incorrect {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            color: #8b4513;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .quiz-score {
            font-weight: bold;
            color: #e17055;
            font-size: 1.1rem;
        }

        .grammar-section {
            background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            color: white;
        }

        .grammar-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .grammar-content {
            line-height: 1.6;
        }

        .example-box {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #ffeaa7;
            color: #2d3436;
            border: 1px solid #e9ecef;
        }

        .quiz-mode-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }

        .quiz-mode-selector label {
            font-weight: bold;
            color: #e17055;
        }

        .quiz-mode-selector select {
            padding: 8px 15px;
            border-radius: 8px;
            border: 2px solid #ffeaa7;
            background: white;
            cursor: pointer;
            color: #2d3436;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .nav-menu {
                gap: 10px;
            }
            
            .nav-btn {
                padding: 12px 20px;
                font-size: 0.9rem;
            }
            
            .vocab-grid {
                grid-template-columns: 1fr;
            }
            
            .flashcard {
                width: 320px;
                height: 220px;
            }
            
            .home-btn {
                position: relative;
                margin-bottom: 20px;
            }

            .flashcard-controls {
                gap: 10px;
            }

            .control-btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <a href="https://nckhthptnk.github.io/tienganh11/" class="home-btn">
        🏠 Trang chủ
    </a>

    <div class="container">
        <div class="header">
            <h1>Unit 8: Health and Life Expectancy</h1>
            <p>Sức khỏe và Tuổi thọ</p>
        </div>

        <div class="nav-menu">
            <button class="nav-btn active" onclick="showSection('vocabulary')">Từ vựng</button>
            <button class="nav-btn" onclick="showSection('reading')">Đọc hiểu</button>
            <button class="nav-btn" onclick="showSection('flashcard')">Flashcard</button>
            <button class="nav-btn" onclick="showSection('grammar')">Ngữ pháp</button>
            <button class="nav-btn" onclick="showSection('quiz')">Quiz</button>
        </div>

        <!-- Vocabulary Section -->
        <div id="vocabulary" class="section active">
            <h2>📚 Từ vựng - Health and Life Expectancy</h2>
            <div class="vocab-grid" id="vocabGrid"></div>
        </div>

        <!-- Reading Section -->
        <div id="reading" class="section">
            <div class="reading-section">
                <h2 style="color: white; text-align: center;">📖 Đọc hiểu</h2>
                <div class="reading-text" id="readingText"></div>
                <div class="reading-questions" id="readingQuestions"></div>
            </div>
        </div>

        <!-- Flashcard Section -->
        <div id="flashcard" class="section">
            <h2 style="text-align: center; color: #fd79a8;">🎴 Flashcard - Ôn tập từ vựng</h2>
            
            <div class="flashcard-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div style="color: #00b894; font-weight: bold;" id="cardCounter">1 / 20</div>
            </div>

            <div class="flashcard-container">
                <div class="flashcard" id="flashcard" onclick="flipCard()">
                    <div class="flashcard-inner" id="flashcardInner">
                        <div class="flashcard-front" id="flashcardFront">
                            <div>Nhấn để bắt đầu</div>
                        </div>
                        <div class="flashcard-back" id="flashcardBack">
                            <div>Sẵn sàng học!</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flashcard-controls">
                <button class="control-btn" onclick="previousCard()">⬅️ Trước</button>
                <button class="control-btn" onclick="flipCard()">🔄 Lật thẻ</button>
                <button class="control-btn" onclick="nextCard()">Tiếp ➡️</button>
                <button class="control-btn" onclick="shuffleCards()">🔀 Xáo trộn</button>
                <button class="control-btn" onclick="markKnown()">✅ Đã biết</button>
                <button class="control-btn" onclick="markUnknown()">❌ Chưa biết</button>
            </div>

            <div class="flashcard-stats">
                <div class="stat-item">
                    <div class="stat-number" id="knownCount">0</div>
                    <div class="stat-label">Đã biết</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="unknownCount">0</div>
                    <div class="stat-label">Chưa biết</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="totalReviewed">0</div>
                    <div class="stat-label">Đã xem</div>
                </div>
            </div>
        </div>

        <!-- Grammar Section -->
        <div id="grammar" class="section">
            <h2 style="text-align: center; color: #6c5ce7;">📝 Ngữ pháp</h2>
            
            <div class="grammar-section">
                <div class="grammar-title">1. Modals - Must & Have to</div>
                <div class="grammar-content">
                    <p><strong>Must:</strong> Diễn tả sự bắt buộc từ người nói</p>
                    <div class="example-box">
                        <strong>Ví dụ:</strong><br>
                        • You must exercise regularly to stay healthy.<br>
                        • We must eat nutritious food.
                    </div>
                    
                    <p><strong>Have to:</strong> Diễn tả sự bắt buộc từ bên ngoài</p>
                    <div class="example-box">
                        <strong>Ví dụ:</strong><br>
                        • I have to take medicine three times a day.<br>
                        • She has to go to the doctor tomorrow.
                    </div>
                </div>
            </div>

            <div class="grammar-section">
                <div class="grammar-title">2. Modals - Should / Had better / Ought to</div>
                <div class="grammar-content">
                    <p><strong>Should:</strong> Lời khuyên, gợi ý</p>
                    <div class="example-box">
                        <strong>Ví dụ:</strong><br>
                        • You should drink more water.<br>
                        • We should get enough sleep.
                    </div>
                    
                    <p><strong>Had better:</strong> Lời khuyên mạnh mẽ hơn</p>
                    <div class="example-box">
                        <strong>Ví dụ:</strong><br>
                        • You had better quit smoking.<br>
                        • We had better see a doctor.
                    </div>
                    
                    <p><strong>Ought to:</strong> Tương tự should nhưng trang trọng hơn</p>
                    <div class="example-box">
                        <strong>Ví dụ:</strong><br>
                        • You ought to exercise more.<br>
                        • People ought to eat less sugar.
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Section -->
        <div id="quiz" class="section">
            <h2 style="text-align: center; color: #e17055;">🎯 Quiz</h2>
            
            <div class="quiz-mode-selector">
                <label for="quizMode">Chế độ Quiz:</label>
                <select id="quizMode" onchange="changeQuizMode()">
                    <option value="vocabulary">Từ vựng</option>
                    <option value="grammar">Ngữ pháp</option>
                    <option value="reading">Đọc hiểu</option>
                    <option value="mixed">Tổng hợp</option>
                </select>
            </div>

            <div class="quiz-container" id="quizContainer">
                <div class="quiz-question" id="quizQuestion">Chọn chế độ quiz để bắt đầu!</div>
                <div class="quiz-options" id="quizOptions"></div>
                <div class="quiz-controls">
                    <div class="quiz-score">Điểm: <span id="quizScore">0/0</span></div>
                    <button class="control-btn" id="nextQuizBtn" onclick="nextQuestion()" style="display: none;">Câu tiếp theo</button>
                    <button class="control-btn" onclick="restartQuiz()">Làm lại</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Vocabulary data
        const vocabularyData = [
            {
                word: "life expectancy",
                pronunciation: "/laɪf ɪkˈspektənsi/",
                meaning: "tuổi thọ trung bình",
                example: "The life expectancy in developed countries is higher than in developing ones."
            },
            {
                word: "nutrition",
                pronunciation: "/nuˈtrɪʃən/",
                meaning: "dinh dưỡng",
                example: "Good nutrition is essential for maintaining health."
            },
            {
                word: "exercise",
                pronunciation: "/ˈeksəsaɪz/",
                meaning: "tập thể dục",
                example: "Regular exercise helps prevent many diseases."
            },
            {
                word: "diet",
                pronunciation: "/ˈdaɪət/",
                meaning: "chế độ ăn uống",
                example: "A balanced diet includes fruits, vegetables, and proteins."
            },
            {
                word: "obesity",
                pronunciation: "/oʊˈbiːsəti/",
                meaning: "béo phì",
                example: "Obesity is a major health problem in many countries."
            },
            {
                word: "diabetes",
                pronunciation: "/ˌdaɪəˈbiːtiːz/",
                meaning: "bệnh tiểu đường",
                example: "Type 2 diabetes can often be prevented with lifestyle changes."
            },
            {
                word: "cardiovascular",
                pronunciation: "/ˌkɑːrdioʊˈvæskjələr/",
                meaning: "tim mạch",
                example: "Cardiovascular disease is the leading cause of death worldwide."
            },
            {
                word: "immune system",
                pronunciation: "/ɪˈmjuːn ˈsɪstəm/",
                meaning: "hệ miễn dịch",
                example: "A strong immune system helps fight off infections."
            },
            {
                word: "mental health",
                pronunciation: "/ˈmentl helθ/",
                meaning: "sức khỏe tâm thần",
                example: "Mental health is just as important as physical health."
            },
            {
                word: "stress",
                pronunciation: "/stres/",
                meaning: "căng thẳng",
                example: "Chronic stress can lead to serious health problems."
            },
            {
                word: "prevention",
                pronunciation: "/prɪˈvenʃən/",
                meaning: "phòng ngừa",
                example: "Prevention is better than cure when it comes to health."
            },
            {
                word: "medication",
                pronunciation: "/ˌmedɪˈkeɪʃən/",
                meaning: "thuốc men",
                example: "Some people need daily medication to manage their conditions."
            },
            {
                word: "symptoms",
                pronunciation: "/ˈsɪmptəmz/",
                meaning: "triệu chứng",
                example: "Early symptoms of the disease are often overlooked."
            },
            {
                word: "diagnosis",
                pronunciation: "/ˌdaɪəɡˈnoʊsɪs/",
                meaning: "chẩn đoán",
                example: "An early diagnosis can improve treatment outcomes."
            },
            {
                word: "treatment",
                pronunciation: "/ˈtriːtmənt/",
                meaning: "điều trị",
                example: "The treatment for this condition has improved significantly."
            },
            {
                word: "recovery",
                pronunciation: "/rɪˈkʌvəri/",
                meaning: "hồi phục",
                example: "Her recovery from surgery was faster than expected."
            },
            {
                word: "wellness",
                pronunciation: "/ˈwelnəs/",
                meaning: "sức khỏe tổng thể",
                example: "Wellness programs focus on overall health and well-being."
            },
            {
                word: "lifestyle",
                pronunciation: "/ˈlaɪfstaɪl/",
                meaning: "lối sống",
                example: "A healthy lifestyle includes regular exercise and good nutrition."
            },
            {
                word: "longevity",
                pronunciation: "/lɔːnˈdʒevəti/",
                meaning: "tuổi thọ cao",
                example: "Scientists study factors that contribute to longevity."
            },
            {
                word: "vitality",
                pronunciation: "/vaɪˈtæləti/",
                meaning: "sức sống, năng lượng",
                example: "Regular exercise helps maintain vitality as we age."
            }
        ];

        // Extended reading text
        const readingText = `
            <h3>The Global Health Revolution: Living Longer, Living Better</h3>
            
            <p>
                Over the past century, <span class="tooltip highlight-word">life expectancy<span class="tooltiptext">tuổi thọ trung bình</span></span> 
                has increased dramatically across the globe. In 1900, the average person lived only 31 years. Today, global 
                <span class="tooltip highlight-word">life expectancy<span class="tooltiptext">tuổi thọ trung bình</span></span> 
                has more than doubled to over 72 years, with some countries achieving averages of over 85 years. This remarkable 
                transformation represents one of humanity's greatest achievements, but it also presents new challenges for 
                maintaining health and <span class="tooltip highlight-word">vitality<span class="tooltiptext">sức sống, năng lượng</span></span> 
                throughout extended lifespans.
            </p>

            <p>
                The foundation of <span class="tooltip highlight-word">longevity<span class="tooltiptext">tuổi thọ cao</span></span> 
                lies in understanding the complex relationship between genetics, environment, and 
                <span class="tooltip highlight-word">lifestyle<span class="tooltiptext">lối sống</span></span> choices. 
                While genetics account for approximately 25% of longevity factors, the remaining 75% is determined by 
                environmental and behavioral factors that individuals can control. This means that most people have 
                significant power over their health outcomes through informed decision-making.
            </p>

            <h4>The Nutrition Revolution</h4>
            <p>
                Proper <span class="tooltip highlight-word">nutrition<span class="tooltiptext">dinh dưỡng</span></span> 
                has emerged as perhaps the most critical factor in promoting health and preventing disease. The modern 
                understanding of nutrition goes far beyond simply avoiding hunger. Today's nutritional science emphasizes 
                the importance of a balanced <span class="tooltip highlight-word">diet<span class="tooltiptext">chế độ ăn uống</span></span> 
                rich in diverse nutrients, antioxidants, and beneficial compounds found in whole foods.
            </p>

            <p>
                The Mediterranean diet, for example, has been extensively studied and shown to reduce the risk of 
                <span class="tooltip highlight-word">cardiovascular<span class="tooltiptext">tim mạch</span></span> 
                disease by up to 30%. This eating pattern emphasizes fruits, vegetables, whole grains, legumes, nuts, 
                and olive oil while limiting processed foods and red meat. Similarly, the traditional Japanese diet, 
                rich in fish, vegetables, and fermented foods, is associated with some of the world's highest 
                <span class="tooltip highlight-word">longevity<span class="tooltiptext">tuổi thọ cao</span></span> rates.
            </p>

            <h4>The Exercise Prescription</h4>
            <p>
                Regular <span class="tooltip highlight-word">exercise<span class="tooltiptext">tập thể dục</span></span> 
                is often called the closest thing we have to a miracle drug. Physical activity benefits virtually every 
                system in the human body. It strengthens the <span class="tooltip highlight-word">cardiovascular<span class="tooltiptext">tim mạch</span></span> 
                system, improves bone density, enhances the <span class="tooltip highlight-word">immune system<span class="tooltiptext">hệ miễn dịch</span></span>, 
                and even promotes brain health and cognitive function.
            </p>

            <p>
                The World Health Organization recommends at least 150 minutes of moderate-intensity aerobic activity 
                per week, along with muscle-strengthening activities on two or more days. However, even small amounts 
                of physical activity can provide significant health benefits. Studies show that just 15 minutes of 
                daily <span class="tooltip highlight-word">exercise<span class="tooltiptext">tập thể dục</span></span> 
                can increase <span class="tooltip highlight-word">life expectancy<span class="tooltiptext">tuổi thọ trung bình</span></span> 
                by three years.
            </p>

            <h4>The Modern Health Challenges</h4>
            <p>
                Despite advances in medical science, modern society faces unprecedented health challenges. 
                <span class="tooltip highlight-word">Obesity<span class="tooltiptext">béo phì</span></span> 
                rates have tripled worldwide since 1975, affecting over 650 million adults globally. This epidemic 
                is closely linked to the rise in <span class="tooltip highlight-word">diabetes<span class="tooltiptext">bệnh tiểu đường</span></span>, 
                with over 400 million people now living with this condition worldwide.
            </p>

            <p>
                <span class="tooltip highlight-word">Mental health<span class="tooltiptext">sức khỏe tâm thần</span></span> 
                has also emerged as a critical component of overall <span class="tooltip highlight-word">wellness<span class="tooltiptext">sức khỏe tổng thể</span></span>. 
                Chronic <span class="tooltip highlight-word">stress<span class="tooltiptext">căng thẳng</span></span>, 
                anxiety, and depression not only affect quality of life but also have measurable impacts on physical 
                health, including increased risk of heart disease, weakened immune function, and accelerated aging.
            </p>

            <h4>The Power of Prevention</h4>
            <p>
                Modern medicine has shifted focus from treatment to <span class="tooltip highlight-word">prevention<span class="tooltiptext">phòng ngừa</span></span>. 
                Early detection through regular screenings can identify potential health issues before 
                <span class="tooltip highlight-word">symptoms<span class="tooltiptext">triệu chứng</span></span> 
                appear, leading to more effective <span class="tooltip highlight-word">treatment<span class="tooltiptext">điều trị</span></span> 
                and better outcomes. Preventive care includes regular check-ups, vaccinations, cancer screenings, 
                and monitoring of key health indicators like blood pressure and cholesterol levels.
            </p>

            <p>
                The concept of personalized medicine is revolutionizing healthcare by tailoring 
                <span class="tooltip highlight-word">prevention<span class="tooltiptext">phòng ngừa</span></span> 
                and <span class="tooltip highlight-word">treatment<span class="tooltiptext">điều trị</span></span> 
                strategies to individual genetic profiles, lifestyle factors, and health histories. This approach 
                promises more effective interventions and better health outcomes for people of all ages.
            </p>

            <h4>Looking to the Future</h4>
            <p>
                As we continue to unlock the secrets of <span class="tooltip highlight-word">longevity<span class="tooltiptext">tuổi thọ cao</span></span>, 
                the focus is shifting from simply extending lifespan to improving healthspan – the number of years 
                lived in good health. This holistic approach to <span class="tooltip highlight-word">wellness<span class="tooltiptext">sức khỏe tổng thể</span></span> 
                recognizes that true success in health is not just about living longer, but about maintaining 
                <span class="tooltip highlight-word">vitality<span class="tooltiptext">sức sống, năng lượng</span></span>, 
                independence, and quality of life throughout the aging process.
            </p>

            <p>
                The future of health lies in the integration of advanced medical technologies with time-tested 
                principles of healthy living. By combining cutting-edge <span class="tooltip highlight-word">diagnosis<span class="tooltiptext">chẩn đoán</span></span> 
                and <span class="tooltip highlight-word">treatment<span class="tooltiptext">điều trị</span></span> 
                methods with fundamental lifestyle practices like good <span class="tooltip highlight-word">nutrition<span class="tooltiptext">dinh dưỡng</span></span>, 
                regular <span class="tooltip highlight-word">exercise<span class="tooltiptext">tập thể dục</span></span>, 
                stress management, and social connection, we can work toward a future where longer life truly means better life.
            </p>
        `;

        // Reading comprehension questions
        const readingQuestions = `
            <h4>📋 Câu hỏi đọc hiểu</h4>
            
            <div class="reading-question">
                <strong>1. According to the passage, what percentage of longevity factors can individuals control?</strong><br>
                A) 25%<br>
                B) 50%<br>
                C) 75%<br>
                D) 100%
            </div>

            <div class="reading-question">
                <strong>2. How much can the Mediterranean diet reduce the risk of cardiovascular disease?</strong><br>
                A) Up to 20%<br>
                B) Up to 30%<br>
                C) Up to 40%<br>
                D) Up to 50%
            </div>

            <div class="reading-question">
                <strong>3. According to WHO recommendations, how many minutes of moderate-intensity aerobic activity should adults do per week?</strong><br>
                A) 100 minutes<br>
                B) 120 minutes<br>
                C) 150 minutes<br>
                D) 200 minutes
            </div>

            <div class="reading-question">
                <strong>4. How many people worldwide are affected by obesity according to the passage?</strong><br>
                A) Over 400 million<br>
                B) Over 500 million<br>
                C) Over 650 million<br>
                D) Over 750 million
            </div>

            <div class="reading-question">
                <strong>5. What does "healthspan" refer to in the context of the passage?</strong><br>
                A) The total number of years a person lives<br>
                B) The number of years lived in good health<br>
                C) The number of years without any illness<br>
                D) The number of years with medical care
            </div>
        `;

        // Quiz questions with reading comprehension added
        const quizQuestions = {
            vocabulary: [
                {
                    question: "What does 'life expectancy' mean?",
                    options: ["tuổi thọ trung bình", "chất lượng cuộc sống", "mức sống", "tuổi già"],
                    correct: 0
                },
                {
                    question: "Choose the correct meaning of 'cardiovascular':",
                    options: ["hô hấp", "tiêu hóa", "tim mạch", "thần kinh"],
                    correct: 2
                },
                {
                    question: "'Prevention is better than cure' means:",
                    options: ["Điều trị tốt hơn phòng ngừa", "Phòng ngừa tốt hơn điều trị", "Chữa bệnh rất khó", "Không thể phòng ngừa"],
                    correct: 1
                },
                {
                    question: "What is 'obesity'?",
                    options: ["gầy yếu", "béo phì", "suy dinh dưỡng", "khỏe mạnh"],
                    correct: 1
                },
                {
                    question: "Choose the correct pronunciation of 'diabetes':",
                    options: ["/ˈdaɪəbiːts/", "/ˌdaɪəˈbiːtiːz/", "/daɪəˈbeɪtəs/", "/ˈdaɪəbets/"],
                    correct: 1
                },
                {
                    question: "'Mental health' refers to:",
                    options: ["sức khỏe thể chất", "sức khỏe tâm thần", "trí thông minh", "trí nhớ"],
                    correct: 1
                },
                {
                    question: "What does 'immune system' mean?",
                    options: ["hệ tuần hoàn", "hệ miễn dịch", "hệ thần kinh", "hệ tiêu hóa"],
                    correct: 1
                },
                {
                    question: "'Vitality' means:",
                    options: ["bệnh tật", "sức sống, năng lượng", "tuổi tác", "cái chết"],
                    correct: 1
                },
                {
                    question: "Choose the correct meaning of 'symptoms':",
                    options: ["nguyên nhân", "triệu chứng", "kết quả", "điều trị"],
                    correct: 1
                },
                {
                    question: "'Longevity' refers to:",
                    options: ["tuổi thọ cao", "chiều cao", "cân nặng", "sức mạnh"],
                    correct: 0
                }
            ],
            grammar: [
                {
                    question: "You _____ exercise regularly to stay healthy.",
                    options: ["must", "can", "may", "will"],
                    correct: 0
                },
                {
                    question: "I _____ take medicine three times a day. (doctor's order)",
                    options: ["must", "have to", "should", "ought to"],
                    correct: 1
                },
                {
                    question: "You _____ drink more water. (advice)",
                    options: ["must", "have to", "should", "can"],
                    correct: 2
                },
                {
                    question: "You _____ quit smoking immediately! (strong advice)",
                    options: ["should", "had better", "ought to", "may"],
                    correct: 1
                },
                {
                    question: "People _____ eat less sugar for better health.",
                    options: ["can", "may", "ought to", "will"],
                    correct: 2
                },
                {
                    question: "She _____ go to the doctor tomorrow. (appointment)",
                    options: ["must", "has to", "should", "ought to"],
                    correct: 1
                },
                {
                    question: "We _____ get enough sleep every night.",
                    options: ["had better", "can", "may", "will"],
                    correct: 0
                },
                {
                    question: "You _____ see a doctor about that cough.",
                    options: ["can", "may", "should", "will"],
                    correct: 2
                },
                {
                    question: "I _____ wear glasses because I can't see well.",
                    options: ["should", "ought to", "must", "had better"],
                    correct: 2
                },
                {
                    question: "You _____ exercise more if you want to lose weight.",
                    options: ["can", "ought to", "may", "will"],
                    correct: 1
                }
            ],
            reading: [
                {
                    question: "According to the passage, what percentage of longevity factors can individuals control?",
                    options: ["25%", "50%", "75%", "100%"],
                    correct: 2
                },
                {
                    question: "How much can the Mediterranean diet reduce the risk of cardiovascular disease?",
                    options: ["Up to 20%", "Up to 30%", "Up to 40%", "Up to 50%"],
                    correct: 1
                },
                {
                    question: "According to WHO recommendations, how many minutes of moderate-intensity aerobic activity should adults do per week?",
                    options: ["100 minutes", "120 minutes", "150 minutes", "200 minutes"],
                    correct: 2
                },
                {
                    question: "How many people worldwide are affected by obesity according to the passage?",
                    options: ["Over 400 million", "Over 500 million", "Over 650 million", "Over 750 million"],
                    correct: 2
                },
                {
                    question: "What does 'healthspan' refer to in the context of the passage?",
                    options: ["The total number of years a person lives", "The number of years lived in good health", "The number of years without any illness", "The number of years with medical care"],
                    correct: 1
                },
                {
                    question: "In 1900, what was the average life expectancy?",
                    options: ["25 years", "31 years", "40 years", "50 years"],
                    correct: 1
                },
                {
                    question: "How much can just 15 minutes of daily exercise increase life expectancy?",
                    options: ["1 year", "2 years", "3 years", "5 years"],
                    correct: 2
                },
                {
                    question: "By how much have obesity rates increased worldwide since 1975?",
                    options: ["Doubled", "Tripled", "Quadrupled", "Increased by 50%"],
                    correct: 1
                }
            ]
        };

        // Initialize mixed questions
        quizQuestions.mixed = [...quizQuestions.vocabulary, ...quizQuestions.grammar, ...quizQuestions.reading];

        // Global variables
        let currentCardIndex = 0;
        let isCardFlipped = false;
        let currentQuizMode = 'vocabulary';
        let currentQuestionIndex = 0;
        let quizScore = 0;
        let currentQuestions = [];
        
        // Flashcard tracking
        let knownCards = new Set();
        let unknownCards = new Set();
        let reviewedCards = new Set();

        // Initialize the app
        function init() {
            renderVocabulary();
            renderReading();
            initializeFlashcards();
            changeQuizMode();
        }

        // Show section
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }

        // Render vocabulary cards
        function renderVocabulary() {
            const vocabGrid = document.getElementById('vocabGrid');
            vocabGrid.innerHTML = vocabularyData.map((vocab, index) => `
                <div class="vocab-card">
                    <div class="vocab-word">
                        ${vocab.word}
                        <button class="speak-btn" onclick="speakWord('${vocab.word}')" title="Phát âm từ">🔊</button>
                    </div>
                    <div class="vocab-pronunciation">
                        ${vocab.pronunciation}
                        <button class="speak-btn" onclick="speakWord('${vocab.word}')" title="Phát âm từ">🔊</button>
                    </div>
                    <div class="vocab-meaning">${vocab.meaning}</div>
                    <div class="vocab-example">"${vocab.example}"</div>
                </div>
            `).join('');
        }

        // Text-to-speech function
        function speakWord(word) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(word);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                utterance.pitch = 1;
                speechSynthesis.speak(utterance);
            } else {
                console.log('Text-to-speech not supported');
            }
        }

        // Render reading text and questions
        function renderReading() {
            document.getElementById('readingText').innerHTML = readingText;
            document.getElementById('readingQuestions').innerHTML = readingQuestions;
        }

        // Enhanced Flashcard functions
        function initializeFlashcards() {
            updateFlashcard();
            updateFlashcardStats();
        }

        function updateFlashcard() {
            const vocab = vocabularyData[currentCardIndex];
            document.getElementById('flashcardFront').innerHTML = `
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div>${vocab.word}</div>
                    <button class="speak-btn" onclick="speakWord('${vocab.word}')" title="Phát âm từ" style="background: rgba(255,255,255,0.3); color: white;">🔊</button>
                </div>
            `;
            document.getElementById('flashcardBack').innerHTML = `
                <div>${vocab.meaning}</div>
                <div style="font-size: 1rem; opacity: 0.9; display: flex; align-items: center; gap: 10px;">
                    ${vocab.pronunciation}
                    <button class="speak-btn" onclick="speakWord('${vocab.word}')" title="Phát âm từ" style="background: rgba(255,255,255,0.3); color: white;">🔊</button>
                </div>
                <div style="font-size: 0.9rem; opacity: 0.8; margin-top: 10px;">"${vocab.example}"</div>
            `;
            
            // Update progress
            const progress = ((currentCardIndex + 1) / vocabularyData.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('cardCounter').textContent = `${currentCardIndex + 1} / ${vocabularyData.length}`;
            
            // Reset flip state
            document.getElementById('flashcard').classList.remove('flipped');
            isCardFlipped = false;
        }

        function flipCard() {
            const flashcard = document.getElementById('flashcard');
            flashcard.classList.toggle('flipped');
            isCardFlipped = !isCardFlipped;
            
            // Mark as reviewed
            reviewedCards.add(currentCardIndex);
            updateFlashcardStats();
        }

        function nextCard() {
            currentCardIndex = (currentCardIndex + 1) % vocabularyData.length;
            updateFlashcard();
        }

        function previousCard() {
            currentCardIndex = (currentCardIndex - 1 + vocabularyData.length) % vocabularyData.length;
            updateFlashcard();
        }

        function shuffleCards() {
            currentCardIndex = Math.floor(Math.random() * vocabularyData.length);
            updateFlashcard();
        }

        function markKnown() {
            knownCards.add(currentCardIndex);
            unknownCards.delete(currentCardIndex);
            reviewedCards.add(currentCardIndex);
            updateFlashcardStats();
            nextCard();
        }

        function markUnknown() {
            unknownCards.add(currentCardIndex);
            knownCards.delete(currentCardIndex);
            reviewedCards.add(currentCardIndex);
            updateFlashcardStats();
            nextCard();
        }

        function updateFlashcardStats() {
            document.getElementById('knownCount').textContent = knownCards.size;
            document.getElementById('unknownCount').textContent = unknownCards.size;
            document.getElementById('totalReviewed').textContent = reviewedCards.size;
        }

        // Quiz functions
        function changeQuizMode() {
            currentQuizMode = document.getElementById('quizMode').value;
            restartQuiz();
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            quizScore = 0;
            currentQuestions = [...quizQuestions[currentQuizMode]];
            shuffleArray(currentQuestions);
            updateQuizScore();
            showQuestion();
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function showQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) {
                showQuizComplete();
                return;
            }

            const question = currentQuestions[currentQuestionIndex];
            document.getElementById('quizQuestion').textContent = `Câu ${currentQuestionIndex + 1}: ${question.question}`;
            
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = question.options.map((option, index) => `
                <div class="quiz-option" onclick="selectOption(${index})" data-index="${index}">
                    ${option}
                </div>
            `).join('');

            document.getElementById('nextQuizBtn').style.display = 'none';
        }

        function selectOption(selectedIndex) {
            const question = currentQuestions[currentQuestionIndex];
            const options = document.querySelectorAll('.quiz-option');
            
            // Remove previous selections
            options.forEach(option => {
                option.classList.remove('selected', 'correct', 'incorrect');
            });

            // Mark selected option
            options[selectedIndex].classList.add('selected');

            // Show correct/incorrect after a short delay
            setTimeout(() => {
                options.forEach((option, index) => {
                    if (index === question.correct) {
                        option.classList.add('correct');
                    } else if (index === selectedIndex && index !== question.correct) {
                        option.classList.add('incorrect');
                    }
                });

                if (selectedIndex === question.correct) {
                    quizScore++;
                }

                updateQuizScore();
                document.getElementById('nextQuizBtn').style.display = 'block';
            }, 500);
        }

        function nextQuestion() {
            currentQuestionIndex++;
            showQuestion();
        }

        function updateQuizScore() {
            document.getElementById('quizScore').textContent = `${quizScore}/${currentQuestions.length}`;
        }

        function showQuizComplete() {
            const percentage = Math.round((quizScore / currentQuestions.length) * 100);
            document.getElementById('quizQuestion').innerHTML = `
                🎉 Hoàn thành Quiz!<br>
                Điểm số: ${quizScore}/${currentQuestions.length} (${percentage}%)
            `;
            document.getElementById('quizOptions').innerHTML = `
                <div style="text-align: center; padding: 20px; font-size: 1.2rem;">
                    ${percentage >= 80 ? '🌟 Xuất sắc!' : percentage >= 60 ? '👍 Tốt!' : '💪 Cần cố gắng thêm!'}
                </div>
            `;
            document.getElementById('nextQuizBtn').style.display = 'none';
        }

        // Initialize the app when page loads
        window.addEventListener('load', init);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9964cd91d3c58819',t:'MTc2MTc2MzI0NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
